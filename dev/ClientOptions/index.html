<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Client Options · Websocket</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">Websocket</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Introduction</a></li><li><span class="tocitem">Server</span><ul><li><a class="tocitem" href="../WebsocketServer/">Server Usage</a></li><li><a class="tocitem" href="../ServerOptions/">Server Options</a></li></ul></li><li><span class="tocitem">Client</span><ul><li><a class="tocitem" href="../WebsocketClient/">Client Usage</a></li><li class="is-active"><a class="tocitem" href>Client Options</a><ul class="internal"><li><a class="tocitem" href="#clientOptions"><span><code>clientOptions</code></span></a></li><li><a class="tocitem" href="#socketOptions"><span><code>socketOptions</code></span></a></li><li><a class="tocitem" href="#Default-request-headers"><span>Default request headers</span></a></li></ul></li></ul></li><li><a class="tocitem" href="../WebsocketConnection/">Websocket Connection</a></li><li><a class="tocitem" href="../Errors/">Error handling</a></li><li><a class="tocitem" href="../Acknowledgments/">Acknowledgments</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Client</a></li><li class="is-active"><a href>Client Options</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Client Options</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/citkane/Websocket.jl/blob/master/docs/src/ClientOptions.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Client-Options"><a class="docs-heading-anchor" href="#Client-Options">Client Options</a><a id="Client-Options-1"></a><a class="docs-heading-anchor-permalink" href="#Client-Options" title="Permalink"></a></h1><p>Options are passed to the client at two stages:</p><ul><li><a href="../WebsocketClient/#Websocket.WebsocketClient"><code>WebsocketClient</code></a> constructor</li><li><a href="../WebsocketClient/#Base.open-Tuple{WebsocketClient,String}"><code>open</code></a> method</li></ul><pre><code class="language-julia">using Websocket

client = WebsocketServer([; clientOptions...])
# ...
open(client, url[, customHeaders::Dict{String, String}; socketOptions...])</code></pre><h2 id="clientOptions"><a class="docs-heading-anchor" href="#clientOptions"><code>clientOptions</code></a><a id="clientOptions-1"></a><a class="docs-heading-anchor-permalink" href="#clientOptions" title="Permalink"></a></h2><p>Overrides the default clientConfig</p><article class="docstring"><header><a class="docstring-binding" id="Websocket.clientConfig" href="#Websocket.clientConfig"><code>Websocket.clientConfig</code></a> — <span class="docstring-category">Constant</span></header><section><div><p><strong>The default options for <a href="../WebsocketClient/#Websocket.WebsocketClient"><code>WebsocketClient</code></a></strong></p><div class="admonition is-info"><header class="admonition-header">maxReceivedFrameSize</header><div class="admonition-body"><p><code>[1 * 0x100000 = 1MiB]::Integer</code></p><p>The maximum frame size that the client will accept</p></div></div><div class="admonition is-info"><header class="admonition-header">maxReceivedMessageSize</header><div class="admonition-body"><p><code>[8 * 0x100000 = 8MiB]::Integer</code></p><p>The maximum assembled message size that the client will accept</p></div></div><div class="admonition is-info"><header class="admonition-header">fragmentOutgoingMessages</header><div class="admonition-body"><p><code>[true]::Bool</code></p><p>Outgoing frames are fragmented if they exceed the set threshold.</p></div></div><div class="admonition is-info"><header class="admonition-header">fragmentationThreshold</header><div class="admonition-body"><p><code>[16 * 0x0400 = 16KiB]::Integer</code></p><p>Outgoing frames are fragmented if they exceed this threshold.</p></div></div><div class="admonition is-info"><header class="admonition-header">closeTimeout</header><div class="admonition-body"><p><code>[5]::Int</code></p><p>The number of seconds to wait after sending a close frame for an acknowledgement to return from the server. Will force close the connection if timed out.</p></div></div><div class="admonition is-info"><header class="admonition-header">keepaliveTimeout</header><div class="admonition-body"><p><code>[1]::Union{Int, Bool}</code></p><p>The interval in number of seconds to solicit the server with a ping / pong response. The connection will be closed if no pong is received within the interval.</p><p>The timer is only active when no data is received from the server within the interval, ie. the server will only be pinged if inactive for a period longer than the interval.</p><p><code>false</code> to disable.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>Due to an underlying issue with <a href="https://juliaweb.github.io/HTTP.jl/stable/">HTTP</a>,  a client network disconnect will cause the connection to block in it&#39;s listen loop,  only registering <code>disconnect</code> when the network re-connects.</p><p><code>keepaliveTimeout</code> uses ping/pong and will register a disconnect more efficiently in network outage events.</p></div></div></div></div><div class="admonition is-info"><header class="admonition-header">useNagleAlgorithm</header><div class="admonition-body"><p><code>[false]::Bool</code></p><p>The Nagle Algorithm makes more efficient use of network resources by introducing a small delay before sending small packets so that multiple messages can be batched together before going onto the wire.  This however comes at the cost of latency, so the default is to disable it.  If you don&#39;t need low latency and are streaming lots of small messages, you can change this to <code>true</code></p><div class="admonition is-info"><header class="admonition-header">Julia 1.3</header><div class="admonition-body"><p>This setting only has an affect as of Julia 1.3</p></div></div></div></div><div class="admonition is-info"><header class="admonition-header">binary</header><div class="admonition-body"><p><code>[false]::Bool</code></p><p>Use Array{UInt8, 1} instead of String as messaging format.</p></div></div></div><a class="docs-sourcelink" target="_blank" href="https://github.com/citkane/Websocket.jl/blob/a2581367275ab8398f1471bcc9b0863f7311bc94/src/opt/vars.jl#L1-L63">source</a></section></article><h2 id="socketOptions"><a class="docs-heading-anchor" href="#socketOptions"><code>socketOptions</code></a><a id="socketOptions-1"></a><a class="docs-heading-anchor-permalink" href="#socketOptions" title="Permalink"></a></h2><p>Options to pass into the underlying <a href="https://juliaweb.github.io/HTTP.jl/stable/public_interface/#Requests-1">HTTP.request</a></p><p>Handy options:</p><div class="admonition is-info"><header class="admonition-header">require_ssl_verification</header><div class="admonition-body"><p><code>::Bool</code></p><p>Set to <code>false</code> to work with snakeoil certs. Handy for testing.</p></div></div><div class="admonition is-info"><header class="admonition-header">verbose</header><div class="admonition-body"><p><code>::Int</code></p><p>Set to 0, 1 or 2.</p></div></div><div class="admonition is-info"><header class="admonition-header">Basic Authentication options</header><div class="admonition-body"><p>Basic authentication is detected automatically from the provided url&#39;s userinfo  in the form of </p><p><code>scheme://user:password@host</code></p><p>and adds the &quot;Authorization: Basic&quot; header</p></div></div><h2 id="Default-request-headers"><a class="docs-heading-anchor" href="#Default-request-headers">Default request headers</a><a id="Default-request-headers-1"></a><a class="docs-heading-anchor-permalink" href="#Default-request-headers" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="Websocket.defaultHeaders" href="#Websocket.defaultHeaders"><code>Websocket.defaultHeaders</code></a> — <span class="docstring-category">Constant</span></header><section><div><pre><code class="language-julia">defaultHeaders::Dict{String, String}</code></pre><p>The default headers passed to a http upgrade request</p><pre><code class="language-julia">Dict{String, String}(
    &quot;Sec-WebSocket-Version&quot; =&gt; &quot;13&quot;,
    &quot;Upgrade&quot; =&gt; &quot;websocket&quot;,
    &quot;Connection&quot; =&gt; &quot;Upgrade&quot;,
    &quot;Sec-WebSocket-Key&quot; =&gt; &quot;&quot;, #new key made for every request
)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/citkane/Websocket.jl/blob/a2581367275ab8398f1471bcc9b0863f7311bc94/src/opt/vars.jl#L170-L181">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../WebsocketClient/">« Client Usage</a><a class="docs-footer-nextpage" href="../WebsocketConnection/">Websocket Connection »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Thursday 8 October 2020 12:09">Thursday 8 October 2020</span>. Using Julia version 1.5.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
